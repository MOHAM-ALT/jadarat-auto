<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฌุฏุงุฑุงุช ุฃูุชู</title>
    <link rel="stylesheet" href="styles/popup.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <span class="logo-icon">๐ฏ</span>
                <h1>ุฌุฏุงุฑุงุช ุฃูุชู</h1>
            </div>
            <button class="close-btn" id="closeBtn">ร</button>
        </div>

        <!-- Main Sections -->
        <div class="main-content">
            
            <!-- Status Section -->
            <div class="section status-section">
                <div class="section-header">
                    <span class="section-icon">๐</span>
                    <h2>ุญุงูุฉ ุงูุงุชุตุงู</h2>
                </div>
                
                <div class="connection-status" id="connectionStatus">
                    <div class="status-indicator" id="statusIndicator">
                        <span class="status-dot"></span>
                        <span id="statusText">ุฌุงุฑู ุงููุญุต...</span>
                    </div>
                    <div class="connection-details" id="connectionDetails">
                        <span class="detail-text">ูุญุต ุงูุงุชุตุงู ูุน ุงูุตูุญุฉ...</span>
                    </div>
                </div>
            </div>
            
            <!-- Control Panel -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">โก</span>
                    <h2>ููุญุฉ ุงูุชุญูู</h2>
                </div>
                
                <div class="control-buttons">
                    <button class="btn btn-primary" id="startBtn" disabled>
                        <span class="btn-icon">โถ</span>
                        ุจุฏุก ุงูุชุดุบูู
                    </button>
                    <button class="btn btn-secondary" id="pauseBtn" disabled>
                        <span class="btn-icon">โธ</span>
                        ุฅููุงู ูุคูุช
                    </button>
                    <button class="btn btn-danger" id="stopBtn" disabled>
                        <span class="btn-icon">โน</span>
                        ุฅููุงู ููุงุฆู
                    </button>
                </div>
            </div>

            <!-- Settings -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">โ</span>
                    <h2>ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ</h2>
                    <span class="pro-badge">PRO</span>
                </div>

                <div class="settings-grid">
                    <div class="setting-item">
                        <label>ูุชุฑุฉ ุงูุงูุชุธุงุฑ (ุซุงููุฉ)</label>
                        <div class="input-group">
                            <input type="range" id="delayRange" min="2" max="10" value="3">
                            <span id="delayValue">3</span>
                        </div>
                    </div>

                    <div class="setting-item">
                        <label>ููุท ุงูุชุดุบูู</label>
                        <select id="modeSelect" class="select-input">
                            <option value="normal">ุนุงุฏู</option>
                            <option value="smart">ุฐูู</option>
                            <option value="fast">ุณุฑูุน</option>
                        </select>
                    </div>

                    <div class="setting-item">
                        <label>ุตูุช ุงูุชูุจููุงุช</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="soundToggle" checked>
                            <span class="slider"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistics -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">๐</span>
                    <h2>ุฅุญุตุงุฆูุงุช ุงูุฌูุณุฉ</h2>
                </div>

                <div class="stats-grid">
                    <div class="stat-card success">
                        <div class="stat-number" id="appliedCount">0</div>
                        <div class="stat-label">ุชู ุงูุชูุฏูู</div>
                    </div>
                    <div class="stat-card danger">
                        <div class="stat-number" id="rejectedCount">0</div>
                        <div class="stat-label">ุชู ุงูุฑูุถ</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number" id="skippedCount">0</div>
                        <div class="stat-label">ุชู ุงูุชุฎุทู</div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-number" id="totalCount">0</div>
                        <div class="stat-label">ุฅุฌูุงูู ุงููุธุงุฆู</div>
                    </div>
                </div>
            </div>

            <!-- Progress Section -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">๐</span>
                    <h2>ุงูุชูุฏู ุงูุญุงูู</h2>
                </div>

                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                        <div class="progress-percentage" id="progressPercentage">0%</div>
                    </div>
                    <div class="progress-text" id="progressText">ุฌุงูุฒ ููุจุฏุก</div>
                </div>

                <div class="current-job" id="currentJob">
                    <span class="job-status">ูู ุงูุงูุชุธุงุฑ...</span>
                </div>
            </div>

            <!-- Resume Operations -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">๐</span>
                    <h2>ุงุณุชุฆูุงู ุงูุนูููุงุช</h2>
                </div>

                <div class="resume-buttons">
                    <button class="btn btn-info" id="resumeBtn" disabled>
                        <span class="btn-icon">๐</span>
                        ุงุณุชููุงู ูู ุงูููุทุฉ ุงูุฃุฎูุฑุฉ
                    </button>
                    <button class="btn btn-warning" id="restartBtn" disabled>
                        <span class="btn-icon">๐</span>
                        ุงูุจุฏุก ูู ุฌุฏูุฏ
                    </button>
                </div>
            </div>

            <!-- Rejection Data Section -->
            <div class="section">
                <div class="section-header">
                    <span class="section-icon">๐</span>
                    <h2>ุจูุงูุงุช ุงูุฑูุถ</h2>
                    <span class="feature-badge">ุฌุฏูุฏ</span>
                </div>

                <div class="rejection-buttons">
                    <button class="btn btn-success" id="exportBtn" disabled>
                        <span class="btn-icon">๐ฅ</span>
                        ุชุตุฏูุฑ ููุงูุณู
                    </button>
                    <button class="btn btn-warning" id="clearRejectionBtn" disabled>
                        <span class="btn-icon">๐</span>
                        ูุณุญ ุงูุจูุงูุงุช
                    </button>
                    <button class="btn btn-danger" id="clearRejectedJobsBtn" disabled>
    <span class="btn-icon">๐ซ</span>
    ูุณุญ ุงููุธุงุฆู ุงููุฑููุถุฉ
</button>
                </div>

                <div class="rejection-info" id="rejectionInfo">
                    <span class="info-text">ูุง ุชูุฌุฏ ุจูุงูุงุช ุฑูุถ ุจุนุฏ</span>
                </div>
            </div>

            <!-- Debug Section (ูุธูุฑ ููุท ุนูุฏ ูุฌูุฏ ูุดุงูู) -->
            <div class="section debug-section" id="debugSection" style="display: none;">
                <div class="section-header">
                    <span class="section-icon">๐</span>
                    <h2>ูุนูููุงุช ุงูุชุดุฎูุต</h2>
                </div>

                <div class="debug-info">
                    <div class="debug-item">
                        <label>ููุน ุงูุตูุญุฉ:</label>
                        <span id="debugPageType">-</span>
                    </div>
                    <div class="debug-item">
                        <label>URL ุงูุญุงูู:</label>
                        <span id="debugCurrentUrl">-</span>
                    </div>
                    <div class="debug-item">
                        <label>ุขุฎุฑ ุฎุทุฃ:</label>
                        <span id="debugLastError">-</span>
                    </div>
                </div>

                <div class="debug-buttons">
                    <button class="btn btn-info" id="debugReconnectBtn">
                        <span class="btn-icon">๐</span>
                        ุฅุนุงุฏุฉ ุงูุงุชุตุงู
                    </button>
                    <button class="btn btn-warning" id="debugReloadBtn">
                        <span class="btn-icon">๐</span>
                        ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
                    </button>
                </div>
            </div>

        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-status">
                <div class="status-indicator" id="footerStatusIndicator">
                    <span class="status-dot"></span>
                    <span id="footerStatusText">ุบูุฑ ูุชุตู</span>
                </div>
                <div class="version">v1.0.1</div>
            </div>
            
            <div class="footer-links">
                <button class="link-btn" id="helpBtn">ูุณุงุนุฏุฉ</button>
                <button class="link-btn" id="aboutBtn">ุญูู</button>
            </div>
        </div>

    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner"></div>
        <div class="loading-text">ุฌุงุฑู ุงูุชุญููู...</div>
    </div>

    <!-- Error Modal -->
    <div class="error-modal" id="errorModal" style="display: none;">
        <div class="error-content">
            <div class="error-header">
                <span class="error-icon">โ๏ธ</span>
                <h3>ุฎุทุฃ ูู ุงูุงุชุตุงู</h3>
            </div>
            <div class="error-body">
                <p id="errorMessage">ุญุฏุซ ุฎุทุฃ ุบูุฑ ูุชููุน</p>
                <div class="error-suggestions">
                    <h4>ุงูุญููู ุงูููุชุฑุญุฉ:</h4>
                    <ul>
                        <li>ุชุฃูุฏ ูู ุฃูู ูู ูููุน ุฌุฏุงุฑุงุช (jadarat.sa)</li>
                        <li>ูู ุจุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ</li>
                        <li>ุฃุนุฏ ุชุดุบูู ุงููุชุตูุญ</li>
                    </ul>
                </div>
            </div>
            <div class="error-footer">
                <button class="btn btn-primary" id="errorRetryBtn">ุฅุนุงุฏุฉ ุงููุญุงููุฉ</button>
                <button class="btn btn-secondary" id="errorCloseBtn">ุฅุบูุงู</button>
            </div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>